# 리덕스

- 리액트에서 가장 많이 사용하는 상태 관리 라이브러리를 Redux라고 한다.
- 컴포넌트의 상태 업데이트 관련 로직을 다른 파일로 분리시켜서 더욱 효율적으로 관리할 수 있고 컴포넌트끼리 똑같은 상태를 공유할 때도 여러 컴포넌트를 거치지 않고 손쉽게 상태 값을 전달하거나 업데이트할 수 있다.
- 전역 상태를 관리할 때 굉장히 효과적이다.

## 개념

### 액션

- 상태에 어떠한 변화가 필요하면 액션이 발생한다.
- 액션은 하나의 객체로 표현되고 type 필드를 가지고 있다.
  - type 필드를 액션의 이름이라고 생각하면 된다.
- 액션은 액션 생성 함수를 통해 만들어진다.
  - 어떤 변화를 일으켜야할 때마다 직접 작성하는 것이 번거로워 함수를 만들어 관리한다.

### 리듀서

- 리듀서(reducer)는 변화를 일으키는 함수이다.
- 액션을 만들어서 리듀서가 현재 상태와 전달받은 액션 객체를 파라미터로 받아오고 두 값을 참고하여 새로운 상태를 만들어서 반환해주는 함수.

### 스토어

- 리덕스를 적용하기 위해 스토어를 만든다.
- 하나의 프로젝트는 단 하나의 스토어를 가질 수 있고 이 스토어에는 현재 애플리케이션의 상태, 리듀서가 들어있고 중요 내장 함수를 포함하고 있다.

### 디스패치

- 스토어의 내장 함수 중 하나이다.
- 액션을 발생시키는 것이라고 이해하면 된다.
- 해당 함수가 호출되면 스토어는 리듀서 함수를 실행시켜 새로운 상태를 만들어준다.

### 구독

- 구독(subscribe)도 스토어의 내장 함수 중 하나이다.
- subscribe 함수 안에 리스너 함수를 파라미터로 넣어 호출하주면, 이 리스너 함수가 액션이 디스패치되어 상태가 업데이트될 때마다 호출된다.

## 세 가지 규칙

리덕스를 사용할 때 지켜야 하는 세 가지 규칙은 다음과 같다.

### 단일 스토어

- 하나의 어플리케이션 안에는 하나의 스토어만 들어 있다.
- 상태 관리가 복잡해지는 것을 막을 수 있어 하나의 스토어만 사용한다.

### 읽기 전용 상태

- 리덕스는 읽기 전용이다.

### 리듀서는 순수 함수

- 리듀서 함수는 다음과 같은 조건을 만족해야한다.
  - 이전 상태와 액션 객체를 파라미터로 전달받는다.
  - 파라미터 외의 값에는 의존하면 안된다.
  - 이전 상태는 절대로 건드리지 않고 변화를 준 새로운 상태 객체를 만들어서 반환한다.
  - 동일 파라미터로 호출한 리듀서 함수는 항상 리턴하는 값이 같아야한다.
